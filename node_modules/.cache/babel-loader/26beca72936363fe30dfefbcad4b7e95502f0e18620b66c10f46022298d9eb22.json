{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sumit\\\\Desktop\\\\crushboard-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { getFirestore, collection, addDoc, doc, getDoc, updateDoc, increment, query, orderBy, onSnapshot, serverTimestamp, where, writeBatch, setDoc } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\n// --- Firebase Configuration ---\n// Reads configuration from environment variables, making it secure for deployment.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\n// --- Initialize Firebase ---\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\n// --- Main App Component ---\nexport default function App() {\n  _s();\n  const [page, setPage] = useState('wall');\n  const [selectedPostId, setSelectedPostId] = useState(null);\n  const [user, setUser] = useState(null);\n  const [userProfile, setUserProfile] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n\n  // --- Authentication & Profile Effect ---\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        const userDocRef = doc(db, \"users\", currentUser.uid);\n        const unsubscribeProfile = onSnapshot(userDocRef, async snapshot => {\n          if (!snapshot.exists()) {\n            // If user profile doesn't exist, create it.\n            await setDoc(userDocRef, {\n              uid: currentUser.uid,\n              alias_name: 'Newbie',\n              college: 'Unknown University',\n              crush_points: 0,\n              verification_status: 'unverified',\n              // unverified, pending, verified, rejected\n              id_card_url: ''\n            });\n            // The onSnapshot listener will automatically pick up the new document.\n          } else {\n            setUserProfile({\n              id: snapshot.id,\n              ...snapshot.data()\n            });\n          }\n          setIsAuthReady(true);\n        });\n        return () => unsubscribeProfile();\n      } else {\n        try {\n          await signInAnonymously(auth);\n        } catch (error) {\n          console.error(\"Error during sign-in:\", error);\n        }\n        // Don't set auth ready here, wait for a user to be signed in.\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const navigateTo = (pageName, postId = null) => {\n    setPage(pageName);\n    setSelectedPostId(postId);\n  };\n  if (!isAuthReady || !userProfile) return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 46\n  }, this);\n  if (userProfile.verification_status !== 'verified') {\n    return /*#__PURE__*/_jsxDEV(VerificationPage, {\n      user: user,\n      userProfile: userProfile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 text-white min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      navigateTo: navigateTo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"p-4 sm:p-6\",\n      children: [page === 'wall' && /*#__PURE__*/_jsxDEV(Wall, {\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }, this), page === 'newPost' && /*#__PURE__*/_jsxDEV(NewPost, {\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 40\n      }, this), page === 'postDetail' && /*#__PURE__*/_jsxDEV(PostDetail, {\n        postId: selectedPostId,\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n\n// --- Verification Page ---\n_s(App, \"lo1/Y42pm+N0IgqCdt1HAjudQa0=\");\n_c = App;\nconst VerificationPage = ({\n  user,\n  userProfile\n}) => {\n  _s2();\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n  const handleFileChange = e => {\n    if (e.target.files[0]) {\n      setFile(e.target.files[0]);\n    }\n  };\n  const handleSubmit = async () => {\n    if (!file) {\n      setError('Please select your College ID photo.');\n      return;\n    }\n    setUploading(true);\n    setError('');\n    try {\n      const filePath = `id_cards/${user.uid}/${file.name}`;\n      const storageRef = ref(storage, filePath);\n      await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(storageRef);\n      const userDocRef = doc(db, `users`, userProfile.id);\n      await updateDoc(userDocRef, {\n        id_card_url: downloadURL,\n        verification_status: 'pending'\n      });\n\n      // No need to set local state, onSnapshot will handle it.\n    } catch (err) {\n      console.error(\"Verification submission error:\", err);\n      setError(\"Something went wrong. Please try again.\");\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full bg-gray-800 p-8 rounded-xl shadow-lg text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-white mb-2\",\n        children: \"Verification Required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-6\",\n        children: \"To keep our community authentic, please upload your college ID.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), userProfile.verification_status === 'unverified' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"id-upload\",\n            className: \"cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300\",\n            children: file ? 'Change File' : 'Select ID Photo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"id-upload\",\n            type: \"file\",\n            className: \"hidden\",\n            accept: \"image/*\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }, this), file && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mb-4\",\n          children: [\"Selected: \", file.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 34\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-400 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: uploading || !file,\n          className: \"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-gray-700\",\n          children: uploading ? 'Submitting...' : 'Submit for Approval'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), userProfile.verification_status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl text-yellow-400 font-bold\",\n          children: \"Approval Pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mt-2\",\n          children: \"Your ID has been submitted. Our admin will review it shortly. Thanks for your patience!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }, this), userProfile.verification_status === 'rejected' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl text-red-500 font-bold\",\n          children: \"Verification Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mt-2\",\n          children: \"There was an issue with your submission. Please try again with a clear photo of your ID.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => updateDoc(doc(db, 'users', userProfile.id), {\n            verification_status: 'unverified'\n          }),\n          className: \"mt-4 bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full\",\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 9\n  }, this);\n};\n\n// --- UI Components ---\n_s2(VerificationPage, \"6ta0PcNhtj1AotB4kJBFOYVsdTA=\");\n_c2 = VerificationPage;\nconst Header = ({\n  navigateTo\n}) => /*#__PURE__*/_jsxDEV(\"header\", {\n  className: \"bg-gray-800 shadow-lg sticky top-0 z-20\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between h-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-2xl font-bold text-pink-500 cursor-pointer tracking-wider\",\n        onClick: () => navigateTo('wall'),\n        children: \"CrushBoard \\uD83D\\uDD25\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigateTo('newPost'),\n        className: \"bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md\",\n        children: \"New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 205,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 204,\n  columnNumber: 5\n}, this);\n_c3 = Header;\nconst Footer = () => /*#__PURE__*/_jsxDEV(\"footer\", {\n  className: \"text-center py-4 text-gray-500 text-sm\",\n  children: /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Built for the chaos of college life.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 219,\n  columnNumber: 5\n}, this);\n_c4 = Footer;\nconst LoadingScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-center justify-center min-h-screen bg-gray-900\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animate-pulse text-3xl font-bold text-pink-500 mb-2\",\n      children: \"CrushBoard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-400\",\n      children: \"Loading the latest drama...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 225,\n  columnNumber: 5\n}, this);\n\n// --- Page Components ---\n_c5 = LoadingScreen;\nconst Wall = ({\n  navigateTo,\n  user\n}) => {\n  _s3();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('new');\n  const [filterTag, setFilterTag] = useState(null);\n  const postsCollectionPath = useMemo(() => `posts`, []);\n  useEffect(() => {\n    if (!user) return;\n    setLoading(true);\n    const postsRef = collection(db, postsCollectionPath);\n    const filterClauses = filterTag ? [where('primaryTag', '==', filterTag)] : [];\n    const sortClauses = sortBy === 'hot' ? [orderBy('score', 'desc')] : [orderBy('timestamp', 'desc')];\n    const q = query(postsRef, ...filterClauses, ...sortClauses);\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      setPosts(querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n      setLoading(false);\n    }, error => {\n      console.error(\"Error fetching posts: \", error);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [user, postsCollectionPath, sortBy, filterTag]);\n  const primaryTags = ['#Crush', '#Roast', '#Confession', '#Dare', '#Question'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-4 rounded-lg mb-6 shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold mr-2\",\n          children: \"Sort:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSortBy('new'),\n          className: `px-3 py-1 text-sm rounded-full ${sortBy === 'new' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSortBy('hot'),\n          className: `px-3 py-1 text-sm rounded-full ${sortBy === 'hot' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"Hot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 items-center justify-center mt-4 border-t border-gray-700 pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold mr-2\",\n          children: \"Filter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterTag(null),\n          className: `px-3 py-1 text-sm rounded-full ${!filterTag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), primaryTags.map(tag => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterTag(tag),\n          className: `px-3 py-1 text-sm rounded-full ${filterTag === tag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: tag\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-8 text-gray-400\",\n      children: \"Fetching posts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 24\n    }, this) : posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-400 bg-gray-800 p-6 rounded-lg shadow\",\n      children: \"No posts found. Try changing the filter or be the first to post!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(PostCard, {\n        post: post,\n        user: user,\n        navigateTo: navigateTo\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 9\n  }, this);\n};\n_s3(Wall, \"gz0fS56L7NRtkX2rOB5r85/Tci4=\");\n_c6 = Wall;\nconst NewPost = ({\n  navigateTo,\n  user\n}) => {\n  _s4();\n  const [message, setMessage] = useState('');\n  const [primaryTag, setPrimaryTag] = useState('#Crush');\n  const [optionalTags, setOptionalTags] = useState('');\n  const [alias, setAlias] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!message.trim()) {\n      setError('Your message cannot be empty!');\n      return;\n    }\n    if (!user) {\n      setError('You must be signed in to post.');\n      return;\n    }\n    setIsSubmitting(true);\n    setError('');\n    try {\n      const optionalTagsArray = optionalTags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0 && tag.startsWith('#'));\n      const postsCollectionPath = `posts`;\n      await addDoc(collection(db, postsCollectionPath), {\n        message: message.trim(),\n        primaryTag,\n        optionalTags: optionalTagsArray,\n        alias: alias.trim() || 'Anonymous',\n        upvotes: 0,\n        downvotes: 0,\n        score: 0,\n        timestamp: serverTimestamp(),\n        userId: user.uid,\n        replyCount: 0\n      });\n      navigateTo('wall');\n    } catch (err) {\n      console.error(\"Error creating post:\", err);\n      setError('Failed to create post. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-lg mx-auto bg-gray-800 p-8 rounded-xl shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6 text-center text-white\",\n      children: \"Create a New Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"primaryTag\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Primary Tag (Required)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"primaryTag\",\n          value: primaryTag,\n          onChange: e => setPrimaryTag(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Crush\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Roast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Confession\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Dare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 99\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 121\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"message\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Your Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"message\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          rows: \"4\",\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"Spill the tea...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"optionalTags\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Optional Tags\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"optionalTags\",\n          type: \"text\",\n          value: optionalTags,\n          onChange: e => setOptionalTags(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"e.g., #ProfessorX, #HostelLife\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"alias\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Alias (Optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"alias\",\n          type: \"text\",\n          value: alias,\n          onChange: e => setAlias(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"Your secret identity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-400 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isSubmitting,\n          className: \"w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-pink-800\",\n          children: isSubmitting ? 'Posting...' : 'Post Anonymously'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 9\n  }, this);\n};\n_s4(NewPost, \"aef1vKt3X4RAOO8EpTxBXQNuPLg=\");\n_c7 = NewPost;\nconst PostDetail = ({\n  postId,\n  navigateTo,\n  user\n}) => {\n  _s5();\n  const [post, setPost] = useState(null);\n  const [replies, setReplies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const postDocPath = useMemo(() => `posts/${postId}`, [postId]);\n  const repliesCollectionPath = useMemo(() => `replies`, []);\n  useEffect(() => {\n    if (!postId || !user) return;\n    setLoading(true);\n    const unsubscribePost = onSnapshot(doc(db, postDocPath), doc => {\n      if (doc.exists()) setPost({\n        id: doc.id,\n        ...doc.data()\n      });else console.error(\"Post not found\");\n      setLoading(false);\n    });\n    const q = query(collection(db, repliesCollectionPath), where(\"postId\", \"==\", postId), orderBy(\"timestamp\", \"asc\"));\n    const unsubscribeReplies = onSnapshot(q, snapshot => {\n      setReplies(snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n    });\n    return () => {\n      unsubscribePost();\n      unsubscribeReplies();\n    };\n  }, [postId, user, postDocPath, repliesCollectionPath]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center mt-8 text-gray-400\",\n    children: \"Loading post...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 25\n  }, this);\n  if (!post) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-400\",\n      children: \"Post not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 57\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigateTo('wall'),\n      className: \"mt-4 text-pink-500 hover:underline\",\n      children: \"Back to Wall\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 104\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 390,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigateTo('wall'),\n      className: \"mb-4 text-pink-500 hover:underline\",\n      children: \"\\u2190 Back to Wall\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-1 rounded-lg shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(PostCard, {\n        post: post,\n        user: user,\n        navigateTo: navigateTo,\n        isDetailView: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4 text-white\",\n        children: [\"Replies (\", replies.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReplyForm, {\n        postId: postId,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mt-6\",\n        children: replies.map(reply => /*#__PURE__*/_jsxDEV(ReplyCard, {\n          reply: reply\n        }, reply.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 43\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 393,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Card & Interaction Components ---\n_s5(PostDetail, \"KUPWZouLTzzJeQeWqitiyB9jnhI=\");\n_c8 = PostDetail;\nconst PostCard = ({\n  post,\n  user,\n  navigateTo,\n  isDetailView = false\n}) => {\n  _s6();\n  const [voteStatus, setVoteStatus] = useState(null);\n  const voteDocRef = useMemo(() => {\n    if (!user) return null;\n    return doc(db, `votes/${user.uid}_${post.id}`);\n  }, [user, post.id]);\n  useEffect(() => {\n    if (!voteDocRef) return;\n    getDoc(voteDocRef).then(docSnap => {\n      if (docSnap.exists()) setVoteStatus(docSnap.data().voteType);\n    });\n  }, [voteDocRef]);\n  const handleVote = async newVoteType => {\n    if (!user || !voteDocRef) return;\n    const postRef = doc(db, `posts/${post.id}`);\n    const batch = writeBatch(db);\n    const currentVote = voteStatus;\n    let upvoteChange = 0,\n      downvoteChange = 0;\n    if (currentVote === newVoteType) {\n      if (newVoteType === 'up') upvoteChange = -1;else downvoteChange = -1;\n      batch.delete(voteDocRef);\n      setVoteStatus(null);\n    } else {\n      if (currentVote === 'up') upvoteChange = -1;\n      if (currentVote === 'down') downvoteChange = -1;\n      if (newVoteType === 'up') upvoteChange += 1;\n      if (newVoteType === 'down') downvoteChange += 1;\n      batch.set(voteDocRef, {\n        userId: user.uid,\n        postId: post.id,\n        voteType: newVoteType\n      });\n      setVoteStatus(newVoteType);\n    }\n    batch.update(postRef, {\n      upvotes: increment(upvoteChange),\n      downvotes: increment(downvoteChange),\n      score: increment(upvoteChange - downvoteChange)\n    });\n    await batch.commit();\n  };\n  const score = post.upvotes - post.downvotes;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `bg-gray-800 rounded-lg shadow-md transition-shadow duration-300 flex ${!isDetailView && 'hover:bg-gray-700'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center p-3 bg-gray-900/50 rounded-l-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVote('up'),\n        className: `p-1 rounded-full ${voteStatus === 'up' ? 'text-pink-500' : 'text-gray-400 hover:bg-gray-700'}`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M5 15l7-7 7 7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 135\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `font-bold text-lg ${score > 0 ? 'text-pink-500' : score < 0 ? 'text-blue-500' : 'text-gray-400'}`,\n        children: score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVote('down'),\n        className: `p-1 rounded-full ${voteStatus === 'down' ? 'text-blue-500' : 'text-gray-400 hover:bg-gray-700'}`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 9l-7 7-7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 135\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex-grow\",\n      onClick: () => !isDetailView && navigateTo('postDetail', post.id),\n      style: {\n        cursor: isDetailView ? 'default' : 'pointer'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-pink-400 mr-2\",\n            children: post.primaryTag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-semibold text-gray-200\",\n            children: post.alias\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: post.timestamp ? new Date(post.timestamp.seconds * 1000).toLocaleString() : 'Just now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-300 my-3 text-lg\",\n        children: post.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 17\n      }, this), post.optionalTags && post.optionalTags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 mb-3\",\n        children: post.optionalTags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-gray-700 px-2 py-1 rounded-full\",\n          children: tag\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 55\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-400 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 mr-1\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M2 5a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm1.5 0a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V5.5a.5.5 0 00-.5-.5h-11zM5 7a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [post.replyCount || 0, \" Replies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 455,\n    columnNumber: 9\n  }, this);\n};\n_s6(PostCard, \"0Hv0MCbUdN1j/6vNT0MvO3bN854=\");\n_c9 = PostCard;\nconst ReplyCard = ({\n  reply\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-gray-700 p-4 rounded-lg\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-semibold text-gray-200\",\n      children: reply.alias || 'Anonymous'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs text-gray-500\",\n      children: reply.timestamp ? new Date(reply.timestamp.seconds * 1000).toLocaleString() : 'Just now'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 490,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-300\",\n    children: reply.reply_text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 494,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 489,\n  columnNumber: 5\n}, this);\n_c0 = ReplyCard;\nconst ReplyForm = ({\n  postId,\n  user\n}) => {\n  _s7();\n  const [replyText, setReplyText] = useState('');\n  const [alias, setAlias] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleReplySubmit = async e => {\n    e.preventDefault();\n    if (!replyText.trim() || !user) return;\n    setIsSubmitting(true);\n    try {\n      const batch = writeBatch(db);\n      const replyRef = doc(collection(db, `replies`));\n      batch.set(replyRef, {\n        reply_text: replyText.trim(),\n        postId: postId,\n        userId: user.uid,\n        alias: alias.trim() || 'Anonymous',\n        timestamp: serverTimestamp()\n      });\n      const postRef = doc(db, `posts/${postId}`);\n      batch.update(postRef, {\n        replyCount: increment(1)\n      });\n      await batch.commit();\n      setReplyText('');\n      setAlias('');\n    } catch (error) {\n      console.error(\"Error submitting reply:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleReplySubmit,\n    className: \"bg-gray-800 p-4 rounded-lg shadow-sm space-y-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: replyText,\n      onChange: e => setReplyText(e.target.value),\n      rows: \"2\",\n      className: \"w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n      placeholder: \"Write a reply...\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: alias,\n        onChange: e => setAlias(e.target.value),\n        className: \"flex-grow p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n        placeholder: \"Alias (Optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isSubmitting || !replyText.trim(),\n        className: \"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition duration-300 disabled:bg-gray-700\",\n        children: isSubmitting ? 'Replying...' : 'Reply'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 528,\n    columnNumber: 9\n  }, this);\n};\n_s7(ReplyForm, \"1gRXT5sJyv8yLb8o7O7ZmnYUGf4=\");\n_c1 = ReplyForm;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"VerificationPage\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"Footer\");\n$RefreshReg$(_c5, \"LoadingScreen\");\n$RefreshReg$(_c6, \"Wall\");\n$RefreshReg$(_c7, \"NewPost\");\n$RefreshReg$(_c8, \"PostDetail\");\n$RefreshReg$(_c9, \"PostCard\");\n$RefreshReg$(_c0, \"ReplyCard\");\n$RefreshReg$(_c1, \"ReplyForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","getFirestore","collection","addDoc","doc","getDoc","updateDoc","increment","query","orderBy","onSnapshot","serverTimestamp","where","writeBatch","setDoc","getStorage","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","Fragment","_Fragment","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","storage","App","_s","page","setPage","selectedPostId","setSelectedPostId","user","setUser","userProfile","setUserProfile","isAuthReady","setIsAuthReady","unsubscribe","currentUser","userDocRef","uid","unsubscribeProfile","snapshot","exists","alias_name","college","crush_points","verification_status","id_card_url","id","data","error","console","navigateTo","pageName","postId","LoadingScreen","fileName","_jsxFileName","lineNumber","columnNumber","VerificationPage","className","children","Header","Wall","NewPost","PostDetail","Footer","_c","_s2","file","setFile","uploading","setUploading","setError","handleFileChange","e","target","files","handleSubmit","filePath","name","storageRef","downloadURL","err","htmlFor","type","accept","onChange","onClick","disabled","_c2","_c3","_c4","_c5","_s3","posts","setPosts","loading","setLoading","sortBy","setSortBy","filterTag","setFilterTag","postsCollectionPath","postsRef","filterClauses","sortClauses","q","querySnapshot","docs","map","primaryTags","tag","length","post","PostCard","_c6","_s4","message","setMessage","primaryTag","setPrimaryTag","optionalTags","setOptionalTags","alias","setAlias","isSubmitting","setIsSubmitting","preventDefault","trim","optionalTagsArray","split","filter","startsWith","upvotes","downvotes","score","timestamp","userId","replyCount","onSubmit","value","rows","placeholder","required","_c7","_s5","setPost","replies","setReplies","postDocPath","repliesCollectionPath","unsubscribePost","unsubscribeReplies","isDetailView","ReplyForm","reply","ReplyCard","_c8","_s6","voteStatus","setVoteStatus","voteDocRef","then","docSnap","voteType","handleVote","newVoteType","postRef","batch","currentVote","upvoteChange","downvoteChange","delete","set","update","commit","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","style","cursor","Date","seconds","toLocaleString","_c9","reply_text","_c0","_s7","replyText","setReplyText","handleReplySubmit","replyRef","_c1","$RefreshReg$"],"sources":["C:/Users/sumit/Desktop/crushboard-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { \r\n    getAuth, \r\n    signInAnonymously, \r\n    onAuthStateChanged\r\n} from 'firebase/auth';\r\nimport { \r\n    getFirestore, \r\n    collection, \r\n    addDoc,\r\n    doc, \r\n    getDoc,\r\n    updateDoc, \r\n    increment,\r\n    query, \r\n    orderBy,\r\n    onSnapshot,\r\n    serverTimestamp,\r\n    where,\r\n    writeBatch,\r\n    setDoc\r\n} from 'firebase/firestore';\r\nimport { \r\n    getStorage, \r\n    ref, \r\n    uploadBytes, \r\n    getDownloadURL \r\n} from \"firebase/storage\";\r\n\r\n// --- Firebase Configuration ---\r\n// Reads configuration from environment variables, making it secure for deployment.\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\n// --- Initialize Firebase ---\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage(app);\r\n\r\n// --- Main App Component ---\r\nexport default function App() {\r\n    const [page, setPage] = useState('wall');\r\n    const [selectedPostId, setSelectedPostId] = useState(null);\r\n    const [user, setUser] = useState(null);\r\n    const [userProfile, setUserProfile] = useState(null);\r\n    const [isAuthReady, setIsAuthReady] = useState(false);\r\n\r\n    // --- Authentication & Profile Effect ---\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n            if (currentUser) {\r\n                setUser(currentUser);\r\n                const userDocRef = doc(db, \"users\", currentUser.uid);\r\n\r\n                const unsubscribeProfile = onSnapshot(userDocRef, async (snapshot) => {\r\n                    if (!snapshot.exists()) {\r\n                        // If user profile doesn't exist, create it.\r\n                        await setDoc(userDocRef, {\r\n                            uid: currentUser.uid,\r\n                            alias_name: 'Newbie',\r\n                            college: 'Unknown University',\r\n                            crush_points: 0,\r\n                            verification_status: 'unverified', // unverified, pending, verified, rejected\r\n                            id_card_url: ''\r\n                        });\r\n                        // The onSnapshot listener will automatically pick up the new document.\r\n                    } else {\r\n                        setUserProfile({ id: snapshot.id, ...snapshot.data() });\r\n                    }\r\n                    setIsAuthReady(true);\r\n                });\r\n                return () => unsubscribeProfile();\r\n            } else {\r\n                try {\r\n                    await signInAnonymously(auth);\r\n                } catch (error) {\r\n                    console.error(\"Error during sign-in:\", error);\r\n                }\r\n                // Don't set auth ready here, wait for a user to be signed in.\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const navigateTo = (pageName, postId = null) => {\r\n        setPage(pageName);\r\n        setSelectedPostId(postId);\r\n    };\r\n    \r\n    if (!isAuthReady || !userProfile) return <LoadingScreen />;\r\n\r\n    if (userProfile.verification_status !== 'verified') {\r\n        return <VerificationPage user={user} userProfile={userProfile} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-gray-900 text-white min-h-screen font-sans\">\r\n            <Header navigateTo={navigateTo} />\r\n            <main className=\"p-4 sm:p-6\">\r\n                {page === 'wall' && <Wall navigateTo={navigateTo} user={user} />}\r\n                {page === 'newPost' && <NewPost navigateTo={navigateTo} user={user} />}\r\n                {page === 'postDetail' && <PostDetail postId={selectedPostId} navigateTo={navigateTo} user={user} />}\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- Verification Page ---\r\nconst VerificationPage = ({ user, userProfile }) => {\r\n    const [file, setFile] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleFileChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setFile(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!file) {\r\n            setError('Please select your College ID photo.');\r\n            return;\r\n        }\r\n        setUploading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const filePath = `id_cards/${user.uid}/${file.name}`;\r\n            const storageRef = ref(storage, filePath);\r\n            await uploadBytes(storageRef, file);\r\n            const downloadURL = await getDownloadURL(storageRef);\r\n\r\n            const userDocRef = doc(db, `users`, userProfile.id);\r\n            await updateDoc(userDocRef, {\r\n                id_card_url: downloadURL,\r\n                verification_status: 'pending'\r\n            });\r\n\r\n            // No need to set local state, onSnapshot will handle it.\r\n        } catch (err) {\r\n            console.error(\"Verification submission error:\", err);\r\n            setError(\"Something went wrong. Please try again.\");\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\r\n            <div className=\"max-w-md w-full bg-gray-800 p-8 rounded-xl shadow-lg text-center\">\r\n                <h1 className=\"text-2xl font-bold text-white mb-2\">Verification Required</h1>\r\n                <p className=\"text-gray-400 mb-6\">To keep our community authentic, please upload your college ID.</p>\r\n\r\n                {userProfile.verification_status === 'unverified' && (\r\n                    <>\r\n                        <div className=\"mb-4\">\r\n                            <label htmlFor=\"id-upload\" className=\"cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300\">\r\n                                {file ? 'Change File' : 'Select ID Photo'}\r\n                            </label>\r\n                            <input id=\"id-upload\" type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileChange} />\r\n                        </div>\r\n                        {file && <p className=\"text-gray-300 mb-4\">Selected: {file.name}</p>}\r\n                        \r\n                        {error && <p className=\"text-red-400 text-sm mb-4\">{error}</p>}\r\n\r\n                        <button onClick={handleSubmit} disabled={uploading || !file} className=\"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-gray-700\">\r\n                            {uploading ? 'Submitting...' : 'Submit for Approval'}\r\n                        </button>\r\n                    </>\r\n                )}\r\n\r\n                {userProfile.verification_status === 'pending' && (\r\n                    <div className=\"mt-6\">\r\n                        <h2 className=\"text-xl text-yellow-400 font-bold\">Approval Pending</h2>\r\n                        <p className=\"text-gray-300 mt-2\">Your ID has been submitted. Our admin will review it shortly. Thanks for your patience!</p>\r\n                    </div>\r\n                )}\r\n                 {userProfile.verification_status === 'rejected' && (\r\n                    <div className=\"mt-6\">\r\n                        <h2 className=\"text-xl text-red-500 font-bold\">Verification Failed</h2>\r\n                        <p className=\"text-gray-300 mt-2\">There was an issue with your submission. Please try again with a clear photo of your ID.</p>\r\n                         <button onClick={() => updateDoc(doc(db, 'users', userProfile.id), { verification_status: 'unverified' })} className=\"mt-4 bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full\">\r\n                            Try Again\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- UI Components ---\r\nconst Header = ({ navigateTo }) => (\r\n    <header className=\"bg-gray-800 shadow-lg sticky top-0 z-20\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex items-center justify-between h-16\">\r\n                <div className=\"text-2xl font-bold text-pink-500 cursor-pointer tracking-wider\" onClick={() => navigateTo('wall')}>\r\n                    CrushBoard 🔥\r\n                </div>\r\n                <button onClick={() => navigateTo('newPost')} className=\"bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md\">\r\n                    New Post\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </header>\r\n);\r\n\r\nconst Footer = () => (\r\n    <footer className=\"text-center py-4 text-gray-500 text-sm\">\r\n        <p>Built for the chaos of college life.</p>\r\n    </footer>\r\n);\r\n\r\nconst LoadingScreen = () => (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-900\">\r\n        <div className=\"text-center\">\r\n            <div className=\"animate-pulse text-3xl font-bold text-pink-500 mb-2\">CrushBoard</div>\r\n            <p className=\"text-gray-400\">Loading the latest drama...</p>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n// --- Page Components ---\r\nconst Wall = ({ navigateTo, user }) => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [sortBy, setSortBy] = useState('new');\r\n    const [filterTag, setFilterTag] = useState(null);\r\n\r\n    const postsCollectionPath = useMemo(() => `posts`, []);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        setLoading(true);\r\n        \r\n        const postsRef = collection(db, postsCollectionPath);\r\n        const filterClauses = filterTag ? [where('primaryTag', '==', filterTag)] : [];\r\n        const sortClauses = sortBy === 'hot' ? [orderBy('score', 'desc')] : [orderBy('timestamp', 'desc')];\r\n        \r\n        const q = query(postsRef, ...filterClauses, ...sortClauses);\r\n\r\n        const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n            setPosts(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n            setLoading(false);\r\n        }, (error) => {\r\n            console.error(\"Error fetching posts: \", error);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user, postsCollectionPath, sortBy, filterTag]);\r\n\r\n    const primaryTags = ['#Crush', '#Roast', '#Confession', '#Dare', '#Question'];\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto\">\r\n            <div className=\"bg-gray-800 p-4 rounded-lg mb-6 shadow-md\">\r\n                <div className=\"flex flex-wrap gap-2 items-center justify-center\">\r\n                    <span className=\"font-bold mr-2\">Sort:</span>\r\n                    <button onClick={() => setSortBy('new')} className={`px-3 py-1 text-sm rounded-full ${sortBy === 'new' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>New</button>\r\n                    <button onClick={() => setSortBy('hot')} className={`px-3 py-1 text-sm rounded-full ${sortBy === 'hot' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>Hot</button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 items-center justify-center mt-4 border-t border-gray-700 pt-4\">\r\n                     <span className=\"font-bold mr-2\">Filter:</span>\r\n                    <button onClick={() => setFilterTag(null)} className={`px-3 py-1 text-sm rounded-full ${!filterTag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>All</button>\r\n                    {primaryTags.map(tag => (\r\n                        <button key={tag} onClick={() => setFilterTag(tag)} className={`px-3 py-1 text-sm rounded-full ${filterTag === tag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>{tag}</button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {loading ? <p className=\"text-center mt-8 text-gray-400\">Fetching posts...</p> : \r\n                posts.length === 0 ? (\r\n                    <p className=\"text-center text-gray-400 bg-gray-800 p-6 rounded-lg shadow\">No posts found. Try changing the filter or be the first to post!</p>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        {posts.map(post => (\r\n                            <PostCard key={post.id} post={post} user={user} navigateTo={navigateTo} />\r\n                        ))}\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewPost = ({ navigateTo, user }) => {\r\n    const [message, setMessage] = useState('');\r\n    const [primaryTag, setPrimaryTag] = useState('#Crush');\r\n    const [optionalTags, setOptionalTags] = useState('');\r\n    const [alias, setAlias] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!message.trim()) { setError('Your message cannot be empty!'); return; }\r\n        if (!user) { setError('You must be signed in to post.'); return; }\r\n\r\n        setIsSubmitting(true);\r\n        setError('');\r\n\r\n        try {\r\n            const optionalTagsArray = optionalTags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0 && tag.startsWith('#'));\r\n            const postsCollectionPath = `posts`;\r\n            await addDoc(collection(db, postsCollectionPath), {\r\n                message: message.trim(), primaryTag, optionalTags: optionalTagsArray,\r\n                alias: alias.trim() || 'Anonymous', upvotes: 0, downvotes: 0, score: 0,\r\n                timestamp: serverTimestamp(), userId: user.uid, replyCount: 0,\r\n            });\r\n            navigateTo('wall');\r\n        } catch (err) {\r\n            console.error(\"Error creating post:\", err);\r\n            setError('Failed to create post. Please try again.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-lg mx-auto bg-gray-800 p-8 rounded-xl shadow-lg\">\r\n            <h1 className=\"text-2xl font-bold mb-6 text-center text-white\">Create a New Post</h1>\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                 <div>\r\n                    <label htmlFor=\"primaryTag\" className=\"block text-sm font-medium text-gray-300 mb-1\">Primary Tag (Required)</label>\r\n                    <select id=\"primaryTag\" value={primaryTag} onChange={(e) => setPrimaryTag(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\">\r\n                        <option>#Crush</option><option>#Roast</option><option>#Confession</option><option>#Dare</option><option>#Question</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-300 mb-1\">Your Message</label>\r\n                    <textarea id=\"message\" value={message} onChange={(e) => setMessage(e.target.value)} rows=\"4\" className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Spill the tea...\" required></textarea>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"optionalTags\" className=\"block text-sm font-medium text-gray-300 mb-1\">Optional Tags</label>\r\n                    <input id=\"optionalTags\" type=\"text\" value={optionalTags} onChange={(e) => setOptionalTags(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"e.g., #ProfessorX, #HostelLife\"/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"alias\" className=\"block text-sm font-medium text-gray-300 mb-1\">Alias (Optional)</label>\r\n                    <input id=\"alias\" type=\"text\" value={alias} onChange={(e) => setAlias(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Your secret identity\"/>\r\n                </div>\r\n                {error && <p className=\"text-red-400 text-sm\">{error}</p>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={isSubmitting} className=\"w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-pink-800\">\r\n                        {isSubmitting ? 'Posting...' : 'Post Anonymously'}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PostDetail = ({ postId, navigateTo, user }) => {\r\n    const [post, setPost] = useState(null);\r\n    const [replies, setReplies] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const postDocPath = useMemo(() => `posts/${postId}`, [postId]);\r\n    const repliesCollectionPath = useMemo(() => `replies`, []);\r\n\r\n    useEffect(() => {\r\n        if (!postId || !user) return;\r\n        setLoading(true);\r\n        \r\n        const unsubscribePost = onSnapshot(doc(db, postDocPath), (doc) => {\r\n            if (doc.exists()) setPost({ id: doc.id, ...doc.data() });\r\n            else console.error(\"Post not found\");\r\n            setLoading(false);\r\n        });\r\n\r\n        const q = query(collection(db, repliesCollectionPath), where(\"postId\", \"==\", postId), orderBy(\"timestamp\", \"asc\"));\r\n        const unsubscribeReplies = onSnapshot(q, (snapshot) => {\r\n            setReplies(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        });\r\n\r\n        return () => { unsubscribePost(); unsubscribeReplies(); };\r\n    }, [postId, user, postDocPath, repliesCollectionPath]);\r\n\r\n    if (loading) return <p className=\"text-center mt-8 text-gray-400\">Loading post...</p>;\r\n    if (!post) return <div className=\"text-center mt-8\"><p className=\"text-red-400\">Post not found.</p><button onClick={() => navigateTo('wall')} className=\"mt-4 text-pink-500 hover:underline\">Back to Wall</button></div>;\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto\">\r\n            <button onClick={() => navigateTo('wall')} className=\"mb-4 text-pink-500 hover:underline\">&larr; Back to Wall</button>\r\n            <div className=\"bg-gray-800 p-1 rounded-lg shadow-lg\">\r\n                <PostCard post={post} user={user} navigateTo={navigateTo} isDetailView={true} />\r\n            </div>\r\n            <div className=\"mt-8\">\r\n                <h2 className=\"text-xl font-bold mb-4 text-white\">Replies ({replies.length})</h2>\r\n                <ReplyForm postId={postId} user={user} />\r\n                <div className=\"space-y-4 mt-6\">\r\n                    {replies.map(reply => <ReplyCard key={reply.id} reply={reply} />)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Card & Interaction Components ---\r\nconst PostCard = ({ post, user, navigateTo, isDetailView = false }) => {\r\n    const [voteStatus, setVoteStatus] = useState(null);\r\n    const voteDocRef = useMemo(() => {\r\n        if (!user) return null;\r\n        return doc(db, `votes/${user.uid}_${post.id}`);\r\n    }, [user, post.id]);\r\n\r\n    useEffect(() => {\r\n        if (!voteDocRef) return;\r\n        getDoc(voteDocRef).then(docSnap => {\r\n            if (docSnap.exists()) setVoteStatus(docSnap.data().voteType);\r\n        });\r\n    }, [voteDocRef]);\r\n\r\n    const handleVote = async (newVoteType) => {\r\n        if (!user || !voteDocRef) return;\r\n        const postRef = doc(db, `posts/${post.id}`);\r\n        const batch = writeBatch(db);\r\n        const currentVote = voteStatus;\r\n        let upvoteChange = 0, downvoteChange = 0;\r\n\r\n        if (currentVote === newVoteType) {\r\n            if (newVoteType === 'up') upvoteChange = -1; else downvoteChange = -1;\r\n            batch.delete(voteDocRef);\r\n            setVoteStatus(null);\r\n        } else {\r\n            if (currentVote === 'up') upvoteChange = -1;\r\n            if (currentVote === 'down') downvoteChange = -1;\r\n            if (newVoteType === 'up') upvoteChange += 1;\r\n            if (newVoteType === 'down') downvoteChange += 1;\r\n            batch.set(voteDocRef, { userId: user.uid, postId: post.id, voteType: newVoteType });\r\n            setVoteStatus(newVoteType);\r\n        }\r\n        \r\n        batch.update(postRef, {\r\n            upvotes: increment(upvoteChange),\r\n            downvotes: increment(downvoteChange),\r\n            score: increment(upvoteChange - downvoteChange)\r\n        });\r\n        await batch.commit();\r\n    };\r\n\r\n    const score = post.upvotes - post.downvotes;\r\n\r\n    return (\r\n        <div className={`bg-gray-800 rounded-lg shadow-md transition-shadow duration-300 flex ${!isDetailView && 'hover:bg-gray-700'}`}>\r\n            <div className=\"flex flex-col items-center p-3 bg-gray-900/50 rounded-l-lg\">\r\n                <button onClick={() => handleVote('up')} className={`p-1 rounded-full ${voteStatus === 'up' ? 'text-pink-500' : 'text-gray-400 hover:bg-gray-700'}`}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" /></svg>\r\n                </button>\r\n                <span className={`font-bold text-lg ${score > 0 ? 'text-pink-500' : score < 0 ? 'text-blue-500' : 'text-gray-400'}`}>{score}</span>\r\n                <button onClick={() => handleVote('down')} className={`p-1 rounded-full ${voteStatus === 'down' ? 'text-blue-500' : 'text-gray-400 hover:bg-gray-700'}`}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" /></svg>\r\n                </button>\r\n            </div>\r\n            <div className=\"p-4 flex-grow\" onClick={() => !isDetailView && navigateTo('postDetail', post.id)} style={{ cursor: isDetailView ? 'default' : 'pointer' }}>\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                        <span className=\"font-bold text-pink-400 mr-2\">{post.primaryTag}</span>\r\n                        <span className=\"text-sm font-semibold text-gray-200\">{post.alias}</span>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-500\">{post.timestamp ? new Date(post.timestamp.seconds * 1000).toLocaleString() : 'Just now'}</span>\r\n                </div>\r\n                <p className=\"text-gray-300 my-3 text-lg\">{post.message}</p>\r\n                {post.optionalTags && post.optionalTags.length > 0 && (\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                        {post.optionalTags.map(tag => <span key={tag} className=\"text-xs bg-gray-700 px-2 py-1 rounded-full\">{tag}</span>)}\r\n                    </div>\r\n                )}\r\n                <div className=\"flex items-center text-gray-400 text-sm\">\r\n                    <svg className=\"w-5 h-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M2 5a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm1.5 0a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V5.5a.5.5 0 00-.5-.5h-11zM5 7a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H5z\"></path></svg>\r\n                    <span>{post.replyCount || 0} Replies</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ReplyCard = ({ reply }) => (\r\n    <div className=\"bg-gray-700 p-4 rounded-lg\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n            <span className=\"text-sm font-semibold text-gray-200\">{reply.alias || 'Anonymous'}</span>\r\n            <span className=\"text-xs text-gray-500\">{reply.timestamp ? new Date(reply.timestamp.seconds * 1000).toLocaleString() : 'Just now'}</span>\r\n        </div>\r\n        <p className=\"text-gray-300\">{reply.reply_text}</p>\r\n    </div>\r\n);\r\n\r\nconst ReplyForm = ({ postId, user }) => {\r\n    const [replyText, setReplyText] = useState('');\r\n    const [alias, setAlias] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleReplySubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!replyText.trim() || !user) return;\r\n        setIsSubmitting(true);\r\n        try {\r\n            const batch = writeBatch(db);\r\n            const replyRef = doc(collection(db, `replies`));\r\n            batch.set(replyRef, {\r\n                reply_text: replyText.trim(), postId: postId, userId: user.uid,\r\n                alias: alias.trim() || 'Anonymous', timestamp: serverTimestamp(),\r\n            });\r\n\r\n            const postRef = doc(db, `posts/${postId}`);\r\n            batch.update(postRef, { replyCount: increment(1) });\r\n            \r\n            await batch.commit();\r\n            setReplyText(''); setAlias('');\r\n        } catch (error) {\r\n            console.error(\"Error submitting reply:\", error);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleReplySubmit} className=\"bg-gray-800 p-4 rounded-lg shadow-sm space-y-3\">\r\n            <textarea value={replyText} onChange={(e) => setReplyText(e.target.value)} rows=\"2\" className=\"w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Write a reply...\" required></textarea>\r\n            <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                 <input type=\"text\" value={alias} onChange={(e) => setAlias(e.target.value)} className=\"flex-grow p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Alias (Optional)\"/>\r\n                <button type=\"submit\" disabled={isSubmitting || !replyText.trim()} className=\"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition duration-300 disabled:bg-gray-700\">\r\n                    {isSubmitting ? 'Replying...' : 'Reply'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}