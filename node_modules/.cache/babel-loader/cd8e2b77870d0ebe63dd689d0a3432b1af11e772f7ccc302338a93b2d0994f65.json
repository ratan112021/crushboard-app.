{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sumit\\\\Desktop\\\\crushboard-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from 'firebase/auth';\nimport { getFirestore, collection, addDoc, doc, getDoc, getDocs, updateDoc, increment, query, orderBy, onSnapshot, serverTimestamp, where, writeBatch } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\n// --- Firebase Configuration ---\n// Reads configuration from environment variables, making it secure for deployment.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\n// --- Initialize Firebase ---\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\n// --- Helper to get App ID ---\nconst getAppId = () => {\n  // In a real deployment, you might use a fixed ID or another environment variable.\n  // For this setup, we use the Firebase App ID.\n  return process.env.REACT_APP_FIREBASE_APP_ID || 'default-crushboard-app';\n};\n\n// --- Main App Component ---\nexport default function App() {\n  _s();\n  const [page, setPage] = useState('wall');\n  const [selectedPostId, setSelectedPostId] = useState(null);\n  const [user, setUser] = useState(null);\n  const [userProfile, setUserProfile] = useState(null);\n  const [isAuthReady, setIsAuthReady] = useState(false);\n\n  // --- Authentication & Profile Effect ---\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        const usersCollectionRef = collection(db, `users`);\n        const q = query(usersCollectionRef, where(\"uid\", \"==\", currentUser.uid));\n        const unsubscribeProfile = onSnapshot(q, async snapshot => {\n          if (snapshot.empty) {\n            const newUserDocRef = doc(db, \"users\", currentUser.uid);\n            await addDoc(usersCollectionRef, {\n              uid: currentUser.uid,\n              alias_name: 'Newbie',\n              college: 'Unknown University',\n              crush_points: 0,\n              verification_status: 'unverified',\n              // unverified, pending, verified, rejected\n              id_card_url: ''\n            });\n            const newUserDoc = await getDoc(newUserDocRef);\n            setUserProfile({\n              id: newUserDoc.id,\n              ...newUserDoc.data()\n            });\n          } else {\n            const userDoc = snapshot.docs[0];\n            setUserProfile({\n              id: userDoc.id,\n              ...userDoc.data()\n            });\n          }\n          setIsAuthReady(true);\n        });\n        return () => unsubscribeProfile();\n      } else {\n        try {\n          await signInAnonymously(auth);\n        } catch (error) {\n          console.error(\"Error during sign-in:\", error);\n        }\n        setIsAuthReady(true);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const navigateTo = (pageName, postId = null) => {\n    setPage(pageName);\n    setSelectedPostId(postId);\n  };\n  if (!isAuthReady || !userProfile) return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 46\n  }, this);\n  if (userProfile.verification_status !== 'verified') {\n    return /*#__PURE__*/_jsxDEV(VerificationPage, {\n      user: user,\n      userProfile: userProfile,\n      setUserProfile: setUserProfile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 text-white min-h-screen font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      navigateTo: navigateTo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"p-4 sm:p-6\",\n      children: [page === 'wall' && /*#__PURE__*/_jsxDEV(Wall, {\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }, this), page === 'newPost' && /*#__PURE__*/_jsxDEV(NewPost, {\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 40\n      }, this), page === 'postDetail' && /*#__PURE__*/_jsxDEV(PostDetail, {\n        postId: selectedPostId,\n        navigateTo: navigateTo,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n}\n\n// --- Verification Page ---\n_s(App, \"lo1/Y42pm+N0IgqCdt1HAjudQa0=\");\n_c = App;\nconst VerificationPage = ({\n  user,\n  userProfile,\n  setUserProfile\n}) => {\n  _s2();\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n  const handleFileChange = e => {\n    if (e.target.files[0]) {\n      setFile(e.target.files[0]);\n    }\n  };\n  const handleSubmit = async () => {\n    if (!file) {\n      setError('Please select your College ID photo.');\n      return;\n    }\n    setUploading(true);\n    setError('');\n    try {\n      const filePath = `id_cards/${user.uid}/${file.name}`;\n      const storageRef = ref(storage, filePath);\n      const uploadResult = await uploadBytes(storageRef, file);\n      const downloadURL = await getDownloadURL(uploadResult.ref);\n      const userDocRef = doc(db, `users`, userProfile.id);\n      await updateDoc(userDocRef, {\n        id_card_url: downloadURL,\n        verification_status: 'pending'\n      });\n      setUserProfile(prev => ({\n        ...prev,\n        verification_status: 'pending'\n      }));\n    } catch (err) {\n      console.error(\"Verification submission error:\", err);\n      setError(\"Something went wrong. Please try again.\");\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full bg-gray-800 p-8 rounded-xl shadow-lg text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-white mb-2\",\n        children: \"Verification Required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mb-6\",\n        children: \"To keep our community authentic, please upload your college ID.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), userProfile.verification_status === 'unverified' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"id-upload\",\n            className: \"cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300\",\n            children: file ? 'Change File' : 'Select ID Photo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"id-upload\",\n            type: \"file\",\n            className: \"hidden\",\n            accept: \"image/*\",\n            onChange: handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this), file && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mb-4\",\n          children: [\"Selected: \", file.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 34\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-400 text-sm mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: uploading || !file,\n          className: \"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-gray-700\",\n          children: uploading ? 'Submitting...' : 'Submit for Approval'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), userProfile.verification_status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl text-yellow-400 font-bold\",\n          children: \"Approval Pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mt-2\",\n          children: \"Your ID has been submitted. Our admin will review it shortly. Thanks for your patience!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }, this), userProfile.verification_status === 'rejected' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl text-red-500 font-bold\",\n          children: \"Verification Failed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-300 mt-2\",\n          children: \"There was an issue with your submission. Please try again with a clear photo of your ID.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setUserProfile(prev => ({\n            ...prev,\n            verification_status: 'unverified'\n          })),\n          className: \"mt-4 bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full\",\n          children: \"Try Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 9\n  }, this);\n};\n\n// --- UI Components ---\n_s2(VerificationPage, \"6ta0PcNhtj1AotB4kJBFOYVsdTA=\");\n_c2 = VerificationPage;\nconst Header = ({\n  navigateTo\n}) => /*#__PURE__*/_jsxDEV(\"header\", {\n  className: \"bg-gray-800 shadow-lg sticky top-0 z-20\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between h-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-2xl font-bold text-pink-500 cursor-pointer tracking-wider\",\n        onClick: () => navigateTo('wall'),\n        children: \"CrushBoard \\uD83D\\uDD25\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigateTo('newPost'),\n        className: \"bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md\",\n        children: \"New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 217,\n  columnNumber: 5\n}, this);\n_c3 = Header;\nconst Footer = () => /*#__PURE__*/_jsxDEV(\"footer\", {\n  className: \"text-center py-4 text-gray-500 text-sm\",\n  children: /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Built for the chaos of college life.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 232,\n  columnNumber: 5\n}, this);\n_c4 = Footer;\nconst LoadingScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-center justify-center min-h-screen bg-gray-900\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"animate-pulse text-3xl font-bold text-pink-500 mb-2\",\n      children: \"CrushBoard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-400\",\n      children: \"Loading the latest drama...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 238,\n  columnNumber: 5\n}, this);\n\n// --- Page Components ---\n_c5 = LoadingScreen;\nconst Wall = ({\n  navigateTo,\n  user\n}) => {\n  _s3();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('new');\n  const [filterTag, setFilterTag] = useState(null);\n  const postsCollectionPath = useMemo(() => `posts`, []);\n  useEffect(() => {\n    if (!user) return;\n    setLoading(true);\n    const postsRef = collection(db, postsCollectionPath);\n    const filterClauses = filterTag ? [where('primaryTag', '==', filterTag)] : [];\n    const sortClauses = sortBy === 'hot' ? [orderBy('score', 'desc')] : [orderBy('timestamp', 'desc')];\n    const q = query(postsRef, ...filterClauses, ...sortClauses);\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      setPosts(querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n      setLoading(false);\n    }, error => {\n      console.error(\"Error fetching posts: \", error);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, [user, postsCollectionPath, sortBy, filterTag]);\n  const primaryTags = ['#Crush', '#Roast', '#Confession', '#Dare', '#Question'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-4 rounded-lg mb-6 shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold mr-2\",\n          children: \"Sort:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSortBy('new'),\n          className: `px-3 py-1 text-sm rounded-full ${sortBy === 'new' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSortBy('hot'),\n          className: `px-3 py-1 text-sm rounded-full ${sortBy === 'hot' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"Hot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 items-center justify-center mt-4 border-t border-gray-700 pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold mr-2\",\n          children: \"Filter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterTag(null),\n          className: `px-3 py-1 text-sm rounded-full ${!filterTag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), primaryTags.map(tag => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterTag(tag),\n          className: `px-3 py-1 text-sm rounded-full ${filterTag === tag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`,\n          children: tag\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center mt-8 text-gray-400\",\n      children: \"Fetching posts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 24\n    }, this) : posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-400 bg-gray-800 p-6 rounded-lg shadow\",\n      children: \"No posts found. Try changing the filter or be the first to post!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(PostCard, {\n        post: post,\n        user: user,\n        navigateTo: navigateTo\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 279,\n    columnNumber: 9\n  }, this);\n};\n_s3(Wall, \"gz0fS56L7NRtkX2rOB5r85/Tci4=\");\n_c6 = Wall;\nconst NewPost = ({\n  navigateTo,\n  user\n}) => {\n  _s4();\n  const [message, setMessage] = useState('');\n  const [primaryTag, setPrimaryTag] = useState('#Crush');\n  const [optionalTags, setOptionalTags] = useState('');\n  const [alias, setAlias] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!message.trim()) {\n      setError('Your message cannot be empty!');\n      return;\n    }\n    if (!user) {\n      setError('You must be signed in to post.');\n      return;\n    }\n    setIsSubmitting(true);\n    setError('');\n    try {\n      const optionalTagsArray = optionalTags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0 && tag.startsWith('#'));\n      const postsCollectionPath = `posts`;\n      await addDoc(collection(db, postsCollectionPath), {\n        message: message.trim(),\n        primaryTag,\n        optionalTags: optionalTagsArray,\n        alias: alias.trim() || 'Anonymous',\n        upvotes: 0,\n        downvotes: 0,\n        score: 0,\n        timestamp: serverTimestamp(),\n        userId: user.uid,\n        replyCount: 0\n      });\n      navigateTo('wall');\n    } catch (err) {\n      console.error(\"Error creating post:\", err);\n      setError('Failed to create post. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-lg mx-auto bg-gray-800 p-8 rounded-xl shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6 text-center text-white\",\n      children: \"Create a New Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"primaryTag\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Primary Tag (Required)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"primaryTag\",\n          value: primaryTag,\n          onChange: e => setPrimaryTag(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Crush\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Roast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Confession\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Dare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 99\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"#Question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 121\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"message\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Your Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"message\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          rows: \"4\",\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"Spill the tea...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"optionalTags\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Optional Tags\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"optionalTags\",\n          type: \"text\",\n          value: optionalTags,\n          onChange: e => setOptionalTags(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"e.g., #ProfessorX, #HostelLife\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"alias\",\n          className: \"block text-sm font-medium text-gray-300 mb-1\",\n          children: \"Alias (Optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"alias\",\n          type: \"text\",\n          value: alias,\n          onChange: e => setAlias(e.target.value),\n          className: \"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n          placeholder: \"Your secret identity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-400 text-sm\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isSubmitting,\n          className: \"w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-pink-800\",\n          children: isSubmitting ? 'Posting...' : 'Post Anonymously'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 344,\n    columnNumber: 9\n  }, this);\n};\n_s4(NewPost, \"aef1vKt3X4RAOO8EpTxBXQNuPLg=\");\n_c7 = NewPost;\nconst PostDetail = ({\n  postId,\n  navigateTo,\n  user\n}) => {\n  _s5();\n  const [post, setPost] = useState(null);\n  const [replies, setReplies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const postDocPath = useMemo(() => `posts/${postId}`, [postId]);\n  const repliesCollectionPath = useMemo(() => `replies`, []);\n  useEffect(() => {\n    if (!postId || !user) return;\n    setLoading(true);\n    const unsubscribePost = onSnapshot(doc(db, postDocPath), doc => {\n      if (doc.exists()) setPost({\n        id: doc.id,\n        ...doc.data()\n      });else console.error(\"Post not found\");\n      setLoading(false);\n    });\n    const q = query(collection(db, repliesCollectionPath), where(\"postId\", \"==\", postId), orderBy(\"timestamp\", \"asc\"));\n    const unsubscribeReplies = onSnapshot(q, snapshot => {\n      setReplies(snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n    });\n    return () => {\n      unsubscribePost();\n      unsubscribeReplies();\n    };\n  }, [postId, user, postDocPath, repliesCollectionPath]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center mt-8 text-gray-400\",\n    children: \"Loading post...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 402,\n    columnNumber: 25\n  }, this);\n  if (!post) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-400\",\n      children: \"Post not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 57\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigateTo('wall'),\n      className: \"mt-4 text-pink-500 hover:underline\",\n      children: \"Back to Wall\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 104\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigateTo('wall'),\n      className: \"mb-4 text-pink-500 hover:underline\",\n      children: \"\\u2190 Back to Wall\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-1 rounded-lg shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(PostCard, {\n        post: post,\n        user: user,\n        navigateTo: navigateTo,\n        isDetailView: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4 text-white\",\n        children: [\"Replies (\", replies.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReplyForm, {\n        postId: postId,\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4 mt-6\",\n        children: replies.map(reply => /*#__PURE__*/_jsxDEV(ReplyCard, {\n          reply: reply\n        }, reply.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 43\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Card & Interaction Components ---\n_s5(PostDetail, \"KUPWZouLTzzJeQeWqitiyB9jnhI=\");\n_c8 = PostDetail;\nconst PostCard = ({\n  post,\n  user,\n  navigateTo,\n  isDetailView = false\n}) => {\n  _s6();\n  const [voteStatus, setVoteStatus] = useState(null);\n  const voteDocRef = useMemo(() => {\n    if (!user) return null;\n    return doc(db, `votes/${user.uid}_${post.id}`);\n  }, [user, post.id]);\n  useEffect(() => {\n    if (!voteDocRef) return;\n    getDoc(voteDocRef).then(docSnap => {\n      if (docSnap.exists()) setVoteStatus(docSnap.data().voteType);\n    });\n  }, [voteDocRef]);\n  const handleVote = async newVoteType => {\n    if (!user || !voteDocRef) return;\n    const postRef = doc(db, `posts/${post.id}`);\n    const batch = writeBatch(db);\n    const currentVote = voteStatus;\n    let upvoteChange = 0,\n      downvoteChange = 0;\n    if (currentVote === newVoteType) {\n      if (newVoteType === 'up') upvoteChange = -1;else downvoteChange = -1;\n      batch.delete(voteDocRef);\n      setVoteStatus(null);\n    } else {\n      if (currentVote === 'up') upvoteChange = -1;\n      if (currentVote === 'down') downvoteChange = -1;\n      if (newVoteType === 'up') upvoteChange += 1;\n      if (newVoteType === 'down') downvoteChange += 1;\n      batch.set(voteDocRef, {\n        userId: user.uid,\n        postId: post.id,\n        voteType: newVoteType\n      });\n      setVoteStatus(newVoteType);\n    }\n    batch.update(postRef, {\n      upvotes: increment(upvoteChange),\n      downvotes: increment(downvoteChange),\n      score: increment(upvoteChange - downvoteChange)\n    });\n    await batch.commit();\n  };\n  const score = post.upvotes - post.downvotes;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `bg-gray-800 rounded-lg shadow-md transition-shadow duration-300 flex ${!isDetailView && 'hover:bg-gray-700'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center p-3 bg-gray-900/50 rounded-l-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVote('up'),\n        className: `p-1 rounded-full ${voteStatus === 'up' ? 'text-pink-500' : 'text-gray-400 hover:bg-gray-700'}`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M5 15l7-7 7 7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 135\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `font-bold text-lg ${score > 0 ? 'text-pink-500' : score < 0 ? 'text-blue-500' : 'text-gray-400'}`,\n        children: score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleVote('down'),\n        className: `p-1 rounded-full ${voteStatus === 'down' ? 'text-blue-500' : 'text-gray-400 hover:bg-gray-700'}`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 9l-7 7-7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 135\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 flex-grow\",\n      onClick: () => !isDetailView && navigateTo('postDetail', post.id),\n      style: {\n        cursor: isDetailView ? 'default' : 'pointer'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-pink-400 mr-2\",\n            children: post.primaryTag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-semibold text-gray-200\",\n            children: post.alias\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: post.timestamp ? new Date(post.timestamp.seconds * 1000).toLocaleString() : 'Just now'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-300 my-3 text-lg\",\n        children: post.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }, this), post.optionalTags && post.optionalTags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 mb-3\",\n        children: post.optionalTags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs bg-gray-700 px-2 py-1 rounded-full\",\n          children: tag\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 55\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-gray-400 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-5 h-5 mr-1\",\n          fill: \"currentColor\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M2 5a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm1.5 0a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V5.5a.5.5 0 00-.5-.5h-11zM5 7a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [post.replyCount || 0, \" Replies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 468,\n    columnNumber: 9\n  }, this);\n};\n_s6(PostCard, \"0Hv0MCbUdN1j/6vNT0MvO3bN854=\");\n_c9 = PostCard;\nconst ReplyCard = ({\n  reply\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-gray-700 p-4 rounded-lg\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-semibold text-gray-200\",\n      children: reply.alias || 'Anonymous'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs text-gray-500\",\n      children: reply.timestamp ? new Date(reply.timestamp.seconds * 1000).toLocaleString() : 'Just now'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 503,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-300\",\n    children: reply.reply_text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 507,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 502,\n  columnNumber: 5\n}, this);\n_c0 = ReplyCard;\nconst ReplyForm = ({\n  postId,\n  user\n}) => {\n  _s7();\n  const [replyText, setReplyText] = useState('');\n  const [alias, setAlias] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const handleReplySubmit = async e => {\n    e.preventDefault();\n    if (!replyText.trim() || !user) return;\n    setIsSubmitting(true);\n    try {\n      const batch = writeBatch(db);\n      const replyRef = doc(collection(db, `replies`));\n      batch.set(replyRef, {\n        reply_text: replyText.trim(),\n        postId: postId,\n        userId: user.uid,\n        alias: alias.trim() || 'Anonymous',\n        timestamp: serverTimestamp()\n      });\n      const postRef = doc(db, `posts/${postId}`);\n      batch.update(postRef, {\n        replyCount: increment(1)\n      });\n      await batch.commit();\n      setReplyText('');\n      setAlias('');\n    } catch (error) {\n      console.error(\"Error submitting reply:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleReplySubmit,\n    className: \"bg-gray-800 p-4 rounded-lg shadow-sm space-y-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: replyText,\n      onChange: e => setReplyText(e.target.value),\n      rows: \"2\",\n      className: \"w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n      placeholder: \"Write a reply...\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: alias,\n        onChange: e => setAlias(e.target.value),\n        className: \"flex-grow p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\",\n        placeholder: \"Alias (Optional)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isSubmitting || !replyText.trim(),\n        className: \"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition duration-300 disabled:bg-gray-700\",\n        children: isSubmitting ? 'Replying...' : 'Reply'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 541,\n    columnNumber: 9\n  }, this);\n};\n_s7(ReplyForm, \"1gRXT5sJyv8yLb8o7O7ZmnYUGf4=\");\n_c1 = ReplyForm;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"VerificationPage\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"Footer\");\n$RefreshReg$(_c5, \"LoadingScreen\");\n$RefreshReg$(_c6, \"Wall\");\n$RefreshReg$(_c7, \"NewPost\");\n$RefreshReg$(_c8, \"PostDetail\");\n$RefreshReg$(_c9, \"PostCard\");\n$RefreshReg$(_c0, \"ReplyCard\");\n$RefreshReg$(_c1, \"ReplyForm\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","initializeApp","getAuth","signInAnonymously","onAuthStateChanged","signInWithCustomToken","getFirestore","collection","addDoc","doc","getDoc","getDocs","updateDoc","increment","query","orderBy","onSnapshot","serverTimestamp","where","writeBatch","getStorage","ref","uploadBytes","getDownloadURL","jsxDEV","_jsxDEV","Fragment","_Fragment","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","storage","getAppId","App","_s","page","setPage","selectedPostId","setSelectedPostId","user","setUser","userProfile","setUserProfile","isAuthReady","setIsAuthReady","unsubscribe","currentUser","usersCollectionRef","q","uid","unsubscribeProfile","snapshot","empty","newUserDocRef","alias_name","college","crush_points","verification_status","id_card_url","newUserDoc","id","data","userDoc","docs","error","console","navigateTo","pageName","postId","LoadingScreen","fileName","_jsxFileName","lineNumber","columnNumber","VerificationPage","className","children","Header","Wall","NewPost","PostDetail","Footer","_c","_s2","file","setFile","uploading","setUploading","setError","handleFileChange","e","target","files","handleSubmit","filePath","name","storageRef","uploadResult","downloadURL","userDocRef","prev","err","htmlFor","type","accept","onChange","onClick","disabled","_c2","_c3","_c4","_c5","_s3","posts","setPosts","loading","setLoading","sortBy","setSortBy","filterTag","setFilterTag","postsCollectionPath","postsRef","filterClauses","sortClauses","querySnapshot","map","primaryTags","tag","length","post","PostCard","_c6","_s4","message","setMessage","primaryTag","setPrimaryTag","optionalTags","setOptionalTags","alias","setAlias","isSubmitting","setIsSubmitting","preventDefault","trim","optionalTagsArray","split","filter","startsWith","upvotes","downvotes","score","timestamp","userId","replyCount","onSubmit","value","rows","placeholder","required","_c7","_s5","setPost","replies","setReplies","postDocPath","repliesCollectionPath","unsubscribePost","exists","unsubscribeReplies","isDetailView","ReplyForm","reply","ReplyCard","_c8","_s6","voteStatus","setVoteStatus","voteDocRef","then","docSnap","voteType","handleVote","newVoteType","postRef","batch","currentVote","upvoteChange","downvoteChange","delete","set","update","commit","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","style","cursor","Date","seconds","toLocaleString","_c9","reply_text","_c0","_s7","replyText","setReplyText","handleReplySubmit","replyRef","_c1","$RefreshReg$"],"sources":["C:/Users/sumit/Desktop/crushboard-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { \r\n    getAuth, \r\n    signInAnonymously, \r\n    onAuthStateChanged,\r\n    signInWithCustomToken\r\n} from 'firebase/auth';\r\nimport { \r\n    getFirestore, \r\n    collection, \r\n    addDoc, \r\n    doc, \r\n    getDoc,\r\n    getDocs,\r\n    updateDoc, \r\n    increment,\r\n    query, \r\n    orderBy,\r\n    onSnapshot,\r\n    serverTimestamp,\r\n    where,\r\n    writeBatch\r\n} from 'firebase/firestore';\r\nimport { \r\n    getStorage, \r\n    ref, \r\n    uploadBytes, \r\n    getDownloadURL \r\n} from \"firebase/storage\";\r\n\r\n// --- Firebase Configuration ---\r\n// Reads configuration from environment variables, making it secure for deployment.\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n};\r\n\r\n// --- Initialize Firebase ---\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage(app);\r\n\r\n// --- Helper to get App ID ---\r\nconst getAppId = () => {\r\n    // In a real deployment, you might use a fixed ID or another environment variable.\r\n    // For this setup, we use the Firebase App ID.\r\n    return process.env.REACT_APP_FIREBASE_APP_ID || 'default-crushboard-app';\r\n};\r\n\r\n\r\n// --- Main App Component ---\r\nexport default function App() {\r\n    const [page, setPage] = useState('wall');\r\n    const [selectedPostId, setSelectedPostId] = useState(null);\r\n    const [user, setUser] = useState(null);\r\n    const [userProfile, setUserProfile] = useState(null);\r\n    const [isAuthReady, setIsAuthReady] = useState(false);\r\n\r\n    // --- Authentication & Profile Effect ---\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n            if (currentUser) {\r\n                setUser(currentUser);\r\n                const usersCollectionRef = collection(db, `users`);\r\n                const q = query(usersCollectionRef, where(\"uid\", \"==\", currentUser.uid));\r\n\r\n                const unsubscribeProfile = onSnapshot(q, async (snapshot) => {\r\n                    if (snapshot.empty) {\r\n                        const newUserDocRef = doc(db, \"users\", currentUser.uid);\r\n                        await addDoc(usersCollectionRef, {\r\n                            uid: currentUser.uid,\r\n                            alias_name: 'Newbie',\r\n                            college: 'Unknown University',\r\n                            crush_points: 0,\r\n                            verification_status: 'unverified', // unverified, pending, verified, rejected\r\n                            id_card_url: ''\r\n                        });\r\n                        const newUserDoc = await getDoc(newUserDocRef);\r\n                        setUserProfile({ id: newUserDoc.id, ...newUserDoc.data() });\r\n                    } else {\r\n                        const userDoc = snapshot.docs[0];\r\n                        setUserProfile({ id: userDoc.id, ...userDoc.data() });\r\n                    }\r\n                    setIsAuthReady(true);\r\n                });\r\n                return () => unsubscribeProfile();\r\n            } else {\r\n                try {\r\n                    await signInAnonymously(auth);\r\n                } catch (error) {\r\n                    console.error(\"Error during sign-in:\", error);\r\n                }\r\n                setIsAuthReady(true);\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const navigateTo = (pageName, postId = null) => {\r\n        setPage(pageName);\r\n        setSelectedPostId(postId);\r\n    };\r\n    \r\n    if (!isAuthReady || !userProfile) return <LoadingScreen />;\r\n\r\n    if (userProfile.verification_status !== 'verified') {\r\n        return <VerificationPage user={user} userProfile={userProfile} setUserProfile={setUserProfile} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-gray-900 text-white min-h-screen font-sans\">\r\n            <Header navigateTo={navigateTo} />\r\n            <main className=\"p-4 sm:p-6\">\r\n                {page === 'wall' && <Wall navigateTo={navigateTo} user={user} />}\r\n                {page === 'newPost' && <NewPost navigateTo={navigateTo} user={user} />}\r\n                {page === 'postDetail' && <PostDetail postId={selectedPostId} navigateTo={navigateTo} user={user} />}\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n\r\n// --- Verification Page ---\r\nconst VerificationPage = ({ user, userProfile, setUserProfile }) => {\r\n    const [file, setFile] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleFileChange = (e) => {\r\n        if (e.target.files[0]) {\r\n            setFile(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!file) {\r\n            setError('Please select your College ID photo.');\r\n            return;\r\n        }\r\n        setUploading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const filePath = `id_cards/${user.uid}/${file.name}`;\r\n            const storageRef = ref(storage, filePath);\r\n            const uploadResult = await uploadBytes(storageRef, file);\r\n            const downloadURL = await getDownloadURL(uploadResult.ref);\r\n\r\n            const userDocRef = doc(db, `users`, userProfile.id);\r\n            await updateDoc(userDocRef, {\r\n                id_card_url: downloadURL,\r\n                verification_status: 'pending'\r\n            });\r\n\r\n            setUserProfile(prev => ({...prev, verification_status: 'pending'}));\r\n\r\n        } catch (err) {\r\n            console.error(\"Verification submission error:\", err);\r\n            setError(\"Something went wrong. Please try again.\");\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-4\">\r\n            <div className=\"max-w-md w-full bg-gray-800 p-8 rounded-xl shadow-lg text-center\">\r\n                <h1 className=\"text-2xl font-bold text-white mb-2\">Verification Required</h1>\r\n                <p className=\"text-gray-400 mb-6\">To keep our community authentic, please upload your college ID.</p>\r\n\r\n                {userProfile.verification_status === 'unverified' && (\r\n                    <>\r\n                        <div className=\"mb-4\">\r\n                            <label htmlFor=\"id-upload\" className=\"cursor-pointer bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300\">\r\n                                {file ? 'Change File' : 'Select ID Photo'}\r\n                            </label>\r\n                            <input id=\"id-upload\" type=\"file\" className=\"hidden\" accept=\"image/*\" onChange={handleFileChange} />\r\n                        </div>\r\n                        {file && <p className=\"text-gray-300 mb-4\">Selected: {file.name}</p>}\r\n                        \r\n                        {error && <p className=\"text-red-400 text-sm mb-4\">{error}</p>}\r\n\r\n                        <button onClick={handleSubmit} disabled={uploading || !file} className=\"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-gray-700\">\r\n                            {uploading ? 'Submitting...' : 'Submit for Approval'}\r\n                        </button>\r\n                    </>\r\n                )}\r\n\r\n                {userProfile.verification_status === 'pending' && (\r\n                    <div className=\"mt-6\">\r\n                        <h2 className=\"text-xl text-yellow-400 font-bold\">Approval Pending</h2>\r\n                        <p className=\"text-gray-300 mt-2\">Your ID has been submitted. Our admin will review it shortly. Thanks for your patience!</p>\r\n                    </div>\r\n                )}\r\n                 {userProfile.verification_status === 'rejected' && (\r\n                    <div className=\"mt-6\">\r\n                        <h2 className=\"text-xl text-red-500 font-bold\">Verification Failed</h2>\r\n                        <p className=\"text-gray-300 mt-2\">There was an issue with your submission. Please try again with a clear photo of your ID.</p>\r\n                         <button onClick={() => setUserProfile(prev => ({...prev, verification_status: 'unverified'}))} className=\"mt-4 bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full\">\r\n                            Try Again\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- UI Components ---\r\nconst Header = ({ navigateTo }) => (\r\n    <header className=\"bg-gray-800 shadow-lg sticky top-0 z-20\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex items-center justify-between h-16\">\r\n                <div className=\"text-2xl font-bold text-pink-500 cursor-pointer tracking-wider\" onClick={() => navigateTo('wall')}>\r\n                    CrushBoard \r\n                </div>\r\n                <button onClick={() => navigateTo('newPost')} className=\"bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:scale-105 shadow-md\">\r\n                    New Post\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </header>\r\n);\r\n\r\nconst Footer = () => (\r\n    <footer className=\"text-center py-4 text-gray-500 text-sm\">\r\n        <p>Built for the chaos of college life.</p>\r\n    </footer>\r\n);\r\n\r\nconst LoadingScreen = () => (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-900\">\r\n        <div className=\"text-center\">\r\n            <div className=\"animate-pulse text-3xl font-bold text-pink-500 mb-2\">CrushBoard</div>\r\n            <p className=\"text-gray-400\">Loading the latest drama...</p>\r\n        </div>\r\n    </div>\r\n);\r\n\r\n// --- Page Components ---\r\nconst Wall = ({ navigateTo, user }) => {\r\n    const [posts, setPosts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [sortBy, setSortBy] = useState('new');\r\n    const [filterTag, setFilterTag] = useState(null);\r\n\r\n    const postsCollectionPath = useMemo(() => `posts`, []);\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        setLoading(true);\r\n        \r\n        const postsRef = collection(db, postsCollectionPath);\r\n        const filterClauses = filterTag ? [where('primaryTag', '==', filterTag)] : [];\r\n        const sortClauses = sortBy === 'hot' ? [orderBy('score', 'desc')] : [orderBy('timestamp', 'desc')];\r\n        \r\n        const q = query(postsRef, ...filterClauses, ...sortClauses);\r\n\r\n        const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n            setPosts(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n            setLoading(false);\r\n        }, (error) => {\r\n            console.error(\"Error fetching posts: \", error);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [user, postsCollectionPath, sortBy, filterTag]);\r\n\r\n    const primaryTags = ['#Crush', '#Roast', '#Confession', '#Dare', '#Question'];\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto\">\r\n            <div className=\"bg-gray-800 p-4 rounded-lg mb-6 shadow-md\">\r\n                <div className=\"flex flex-wrap gap-2 items-center justify-center\">\r\n                    <span className=\"font-bold mr-2\">Sort:</span>\r\n                    <button onClick={() => setSortBy('new')} className={`px-3 py-1 text-sm rounded-full ${sortBy === 'new' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>New</button>\r\n                    <button onClick={() => setSortBy('hot')} className={`px-3 py-1 text-sm rounded-full ${sortBy === 'hot' ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>Hot</button>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 items-center justify-center mt-4 border-t border-gray-700 pt-4\">\r\n                     <span className=\"font-bold mr-2\">Filter:</span>\r\n                    <button onClick={() => setFilterTag(null)} className={`px-3 py-1 text-sm rounded-full ${!filterTag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>All</button>\r\n                    {primaryTags.map(tag => (\r\n                        <button key={tag} onClick={() => setFilterTag(tag)} className={`px-3 py-1 text-sm rounded-full ${filterTag === tag ? 'bg-pink-600 text-white' : 'bg-gray-700 hover:bg-gray-600'}`}>{tag}</button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {loading ? <p className=\"text-center mt-8 text-gray-400\">Fetching posts...</p> : \r\n                posts.length === 0 ? (\r\n                    <p className=\"text-center text-gray-400 bg-gray-800 p-6 rounded-lg shadow\">No posts found. Try changing the filter or be the first to post!</p>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        {posts.map(post => (\r\n                            <PostCard key={post.id} post={post} user={user} navigateTo={navigateTo} />\r\n                        ))}\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewPost = ({ navigateTo, user }) => {\r\n    const [message, setMessage] = useState('');\r\n    const [primaryTag, setPrimaryTag] = useState('#Crush');\r\n    const [optionalTags, setOptionalTags] = useState('');\r\n    const [alias, setAlias] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!message.trim()) { setError('Your message cannot be empty!'); return; }\r\n        if (!user) { setError('You must be signed in to post.'); return; }\r\n\r\n        setIsSubmitting(true);\r\n        setError('');\r\n\r\n        try {\r\n            const optionalTagsArray = optionalTags.split(',').map(tag => tag.trim()).filter(tag => tag.length > 0 && tag.startsWith('#'));\r\n            const postsCollectionPath = `posts`;\r\n            await addDoc(collection(db, postsCollectionPath), {\r\n                message: message.trim(), primaryTag, optionalTags: optionalTagsArray,\r\n                alias: alias.trim() || 'Anonymous', upvotes: 0, downvotes: 0, score: 0,\r\n                timestamp: serverTimestamp(), userId: user.uid, replyCount: 0,\r\n            });\r\n            navigateTo('wall');\r\n        } catch (err) {\r\n            console.error(\"Error creating post:\", err);\r\n            setError('Failed to create post. Please try again.');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-lg mx-auto bg-gray-800 p-8 rounded-xl shadow-lg\">\r\n            <h1 className=\"text-2xl font-bold mb-6 text-center text-white\">Create a New Post</h1>\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                 <div>\r\n                    <label htmlFor=\"primaryTag\" className=\"block text-sm font-medium text-gray-300 mb-1\">Primary Tag (Required)</label>\r\n                    <select id=\"primaryTag\" value={primaryTag} onChange={(e) => setPrimaryTag(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\">\r\n                        <option>#Crush</option><option>#Roast</option><option>#Confession</option><option>#Dare</option><option>#Question</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"message\" className=\"block text-sm font-medium text-gray-300 mb-1\">Your Message</label>\r\n                    <textarea id=\"message\" value={message} onChange={(e) => setMessage(e.target.value)} rows=\"4\" className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Spill the tea...\" required></textarea>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"optionalTags\" className=\"block text-sm font-medium text-gray-300 mb-1\">Optional Tags</label>\r\n                    <input id=\"optionalTags\" type=\"text\" value={optionalTags} onChange={(e) => setOptionalTags(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"e.g., #ProfessorX, #HostelLife\"/>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"alias\" className=\"block text-sm font-medium text-gray-300 mb-1\">Alias (Optional)</label>\r\n                    <input id=\"alias\" type=\"text\" value={alias} onChange={(e) => setAlias(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Your secret identity\"/>\r\n                </div>\r\n                {error && <p className=\"text-red-400 text-sm\">{error}</p>}\r\n                <div>\r\n                    <button type=\"submit\" disabled={isSubmitting} className=\"w-full bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 disabled:bg-pink-800\">\r\n                        {isSubmitting ? 'Posting...' : 'Post Anonymously'}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst PostDetail = ({ postId, navigateTo, user }) => {\r\n    const [post, setPost] = useState(null);\r\n    const [replies, setReplies] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const postDocPath = useMemo(() => `posts/${postId}`, [postId]);\r\n    const repliesCollectionPath = useMemo(() => `replies`, []);\r\n\r\n    useEffect(() => {\r\n        if (!postId || !user) return;\r\n        setLoading(true);\r\n        \r\n        const unsubscribePost = onSnapshot(doc(db, postDocPath), (doc) => {\r\n            if (doc.exists()) setPost({ id: doc.id, ...doc.data() });\r\n            else console.error(\"Post not found\");\r\n            setLoading(false);\r\n        });\r\n\r\n        const q = query(collection(db, repliesCollectionPath), where(\"postId\", \"==\", postId), orderBy(\"timestamp\", \"asc\"));\r\n        const unsubscribeReplies = onSnapshot(q, (snapshot) => {\r\n            setReplies(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        });\r\n\r\n        return () => { unsubscribePost(); unsubscribeReplies(); };\r\n    }, [postId, user, postDocPath, repliesCollectionPath]);\r\n\r\n    if (loading) return <p className=\"text-center mt-8 text-gray-400\">Loading post...</p>;\r\n    if (!post) return <div className=\"text-center mt-8\"><p className=\"text-red-400\">Post not found.</p><button onClick={() => navigateTo('wall')} className=\"mt-4 text-pink-500 hover:underline\">Back to Wall</button></div>;\r\n\r\n    return (\r\n        <div className=\"max-w-2xl mx-auto\">\r\n            <button onClick={() => navigateTo('wall')} className=\"mb-4 text-pink-500 hover:underline\">&larr; Back to Wall</button>\r\n            <div className=\"bg-gray-800 p-1 rounded-lg shadow-lg\">\r\n                <PostCard post={post} user={user} navigateTo={navigateTo} isDetailView={true} />\r\n            </div>\r\n            <div className=\"mt-8\">\r\n                <h2 className=\"text-xl font-bold mb-4 text-white\">Replies ({replies.length})</h2>\r\n                <ReplyForm postId={postId} user={user} />\r\n                <div className=\"space-y-4 mt-6\">\r\n                    {replies.map(reply => <ReplyCard key={reply.id} reply={reply} />)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- Card & Interaction Components ---\r\nconst PostCard = ({ post, user, navigateTo, isDetailView = false }) => {\r\n    const [voteStatus, setVoteStatus] = useState(null);\r\n    const voteDocRef = useMemo(() => {\r\n        if (!user) return null;\r\n        return doc(db, `votes/${user.uid}_${post.id}`);\r\n    }, [user, post.id]);\r\n\r\n    useEffect(() => {\r\n        if (!voteDocRef) return;\r\n        getDoc(voteDocRef).then(docSnap => {\r\n            if (docSnap.exists()) setVoteStatus(docSnap.data().voteType);\r\n        });\r\n    }, [voteDocRef]);\r\n\r\n    const handleVote = async (newVoteType) => {\r\n        if (!user || !voteDocRef) return;\r\n        const postRef = doc(db, `posts/${post.id}`);\r\n        const batch = writeBatch(db);\r\n        const currentVote = voteStatus;\r\n        let upvoteChange = 0, downvoteChange = 0;\r\n\r\n        if (currentVote === newVoteType) {\r\n            if (newVoteType === 'up') upvoteChange = -1; else downvoteChange = -1;\r\n            batch.delete(voteDocRef);\r\n            setVoteStatus(null);\r\n        } else {\r\n            if (currentVote === 'up') upvoteChange = -1;\r\n            if (currentVote === 'down') downvoteChange = -1;\r\n            if (newVoteType === 'up') upvoteChange += 1;\r\n            if (newVoteType === 'down') downvoteChange += 1;\r\n            batch.set(voteDocRef, { userId: user.uid, postId: post.id, voteType: newVoteType });\r\n            setVoteStatus(newVoteType);\r\n        }\r\n        \r\n        batch.update(postRef, {\r\n            upvotes: increment(upvoteChange),\r\n            downvotes: increment(downvoteChange),\r\n            score: increment(upvoteChange - downvoteChange)\r\n        });\r\n        await batch.commit();\r\n    };\r\n\r\n    const score = post.upvotes - post.downvotes;\r\n\r\n    return (\r\n        <div className={`bg-gray-800 rounded-lg shadow-md transition-shadow duration-300 flex ${!isDetailView && 'hover:bg-gray-700'}`}>\r\n            <div className=\"flex flex-col items-center p-3 bg-gray-900/50 rounded-l-lg\">\r\n                <button onClick={() => handleVote('up')} className={`p-1 rounded-full ${voteStatus === 'up' ? 'text-pink-500' : 'text-gray-400 hover:bg-gray-700'}`}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" /></svg>\r\n                </button>\r\n                <span className={`font-bold text-lg ${score > 0 ? 'text-pink-500' : score < 0 ? 'text-blue-500' : 'text-gray-400'}`}>{score}</span>\r\n                <button onClick={() => handleVote('down')} className={`p-1 rounded-full ${voteStatus === 'down' ? 'text-blue-500' : 'text-gray-400 hover:bg-gray-700'}`}>\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" /></svg>\r\n                </button>\r\n            </div>\r\n            <div className=\"p-4 flex-grow\" onClick={() => !isDetailView && navigateTo('postDetail', post.id)} style={{ cursor: isDetailView ? 'default' : 'pointer' }}>\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                    <div>\r\n                        <span className=\"font-bold text-pink-400 mr-2\">{post.primaryTag}</span>\r\n                        <span className=\"text-sm font-semibold text-gray-200\">{post.alias}</span>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-500\">{post.timestamp ? new Date(post.timestamp.seconds * 1000).toLocaleString() : 'Just now'}</span>\r\n                </div>\r\n                <p className=\"text-gray-300 my-3 text-lg\">{post.message}</p>\r\n                {post.optionalTags && post.optionalTags.length > 0 && (\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                        {post.optionalTags.map(tag => <span key={tag} className=\"text-xs bg-gray-700 px-2 py-1 rounded-full\">{tag}</span>)}\r\n                    </div>\r\n                )}\r\n                <div className=\"flex items-center text-gray-400 text-sm\">\r\n                    <svg className=\"w-5 h-5 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M2 5a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm1.5 0a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V5.5a.5.5 0 00-.5-.5h-11zM5 7a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H5z\"></path></svg>\r\n                    <span>{post.replyCount || 0} Replies</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ReplyCard = ({ reply }) => (\r\n    <div className=\"bg-gray-700 p-4 rounded-lg\">\r\n        <div className=\"flex justify-between items-center mb-2\">\r\n            <span className=\"text-sm font-semibold text-gray-200\">{reply.alias || 'Anonymous'}</span>\r\n            <span className=\"text-xs text-gray-500\">{reply.timestamp ? new Date(reply.timestamp.seconds * 1000).toLocaleString() : 'Just now'}</span>\r\n        </div>\r\n        <p className=\"text-gray-300\">{reply.reply_text}</p>\r\n    </div>\r\n);\r\n\r\nconst ReplyForm = ({ postId, user }) => {\r\n    const [replyText, setReplyText] = useState('');\r\n    const [alias, setAlias] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleReplySubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!replyText.trim() || !user) return;\r\n        setIsSubmitting(true);\r\n        try {\r\n            const batch = writeBatch(db);\r\n            const replyRef = doc(collection(db, `replies`));\r\n            batch.set(replyRef, {\r\n                reply_text: replyText.trim(), postId: postId, userId: user.uid,\r\n                alias: alias.trim() || 'Anonymous', timestamp: serverTimestamp(),\r\n            });\r\n\r\n            const postRef = doc(db, `posts/${postId}`);\r\n            batch.update(postRef, { replyCount: increment(1) });\r\n            \r\n            await batch.commit();\r\n            setReplyText(''); setAlias('');\r\n        } catch (error) {\r\n            console.error(\"Error submitting reply:\", error);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleReplySubmit} className=\"bg-gray-800 p-4 rounded-lg shadow-sm space-y-3\">\r\n            <textarea value={replyText} onChange={(e) => setReplyText(e.target.value)} rows=\"2\" className=\"w-full p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Write a reply...\" required></textarea>\r\n            <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                 <input type=\"text\" value={alias} onChange={(e) => setAlias(e.target.value)} className=\"flex-grow p-2 border border-gray-600 rounded-md bg-gray-700 text-white focus:ring-pink-500 focus:border-pink-500\" placeholder=\"Alias (Optional)\"/>\r\n                <button type=\"submit\" disabled={isSubmitting || !replyText.trim()} className=\"bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-md transition duration-300 disabled:bg-gray-700\">\r\n                    {isSubmitting ? 'Replying...' : 'Reply'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}